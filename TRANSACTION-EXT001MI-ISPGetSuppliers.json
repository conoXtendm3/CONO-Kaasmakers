{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"ISPGetSuppliers":{"sourceUuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","name":"ISPGetSuppliers","program":"EXT001MI","description":"ALL_MI_0001_GetSuppliers","active":true,"multi":true,"modified":1689255165073,"modifiedBy":"MALSHA01","outputFields":[{"name":"RCTP","description":"Record Type","length":1,"mandatory":false,"type":"A"},{"name":"DIVI","description":"division","length":3,"mandatory":false,"type":"A"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"SUNM","description":"supplier name","length":36,"mandatory":false,"type":"A"},{"name":"PHNO","description":"telephone number 1","length":16,"mandatory":false,"type":"A"},{"name":"TEPY","description":"payment terms","length":3,"mandatory":false,"type":"A"},{"name":"TECD","description":"cash discount term","length":3,"mandatory":false,"type":"A"},{"name":"PYME","description":"payment method - accounts payable","length":3,"mandatory":false,"type":"A"},{"name":"VTCD","description":"VAT code","length":2,"mandatory":false,"type":"N"},{"name":"CSCD","description":"country","length":3,"mandatory":false,"type":"A"},{"name":"STAT","description":"status","length":2,"mandatory":false,"type":"A"},{"name":"VRNO","description":"VAT registration number","length":16,"mandatory":false,"type":"A"},{"name":"EMAL","description":"email address","length":60,"mandatory":false,"type":"A"},{"name":"PRSU","description":"payee","length":10,"mandatory":false,"type":"A"},{"name":"SUCM","description":"supplier computer communication address","length":20,"mandatory":false,"type":"A"},{"name":"ADR1","description":"address line 1","length":36,"mandatory":false,"type":"A"},{"name":"ADR2","description":"address line 2","length":36,"mandatory":false,"type":"A"},{"name":"ADR3","description":"address line 3","length":36,"mandatory":false,"type":"A"},{"name":"ADR4","description":"address line 4","length":36,"mandatory":false,"type":"A"},{"name":"ASCD","description":"CSCD Address","length":3,"mandatory":false,"type":"A"},{"name":"PONO","description":"Postal code","length":10,"mandatory":false,"type":"A"},{"name":"EDES","description":"place","length":10,"mandatory":false,"type":"A"},{"name":"TOWN","description":"city","length":20,"mandatory":false,"type":"A"},{"name":"ECAR","description":"state","length":2,"mandatory":false,"type":"A"},{"name":"IAPC","description":"invoice approval condition 1","length":1,"mandatory":false,"type":"N"},{"name":"BDIV","description":"Bank Division","length":3,"mandatory":false,"type":"A"},{"name":"BKID","description":"bank account identity","length":5,"mandatory":false,"type":"A"},{"name":"BAF1","description":"bank account field 1","length":15,"mandatory":false,"type":"A"},{"name":"FIAN","description":"account number at financial institution","length":25,"mandatory":false,"type":"A"},{"name":"IBAN","description":"international bank account number","length":34,"mandatory":false,"type":"A"},{"name":"CBPY","description":"bank priority","length":2,"mandatory":false,"type":"N"},{"name":"BKST","description":"Bank Status","length":2,"mandatory":false,"type":"A"},{"name":"ALSU","description":"Search key","length":10,"mandatory":false,"type":"A"}],"inputFields":[{"name":"STAT","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"2a01a64a-904e-40cf-814d-6eed84d468ea":{"uuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","updated":1689592538428,"updatedBy":"MALSHA01","created":1689254904724,"createdBy":"MALSHA01","apiVersion":"0.14","beVersion":"16.0.0.20230516150031.5","language":"GROOVY","codeHash":"009228ABF9878DDE0953E55048621A6C64D068B34B74ABD5211F227586CBC221","code":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQogKiBFeHRlbnNpb24gTmFtZTogRVhUMDAxTUkuSVNQR2V0U3VwcGxpZXJzDQogKiBUeXBlOiBUcmFuc2FjdGlvbg0KICogRGVzY3JpcHRpb246IFRoaXMgZXh0ZW5zaW9uIFNlbmQgc3VwcGxpZXJzIHRvIDNyZCBwYXJ0eSBhcHBsaWNhdGlvbiBJU1AuDQogKg0KICogRGF0ZSAgICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjItMDUtMTkgICBIaXRlc2ggQ2hvdHJhbmkgICAgICAgICAxLjAgICAgICAgICAgICAgICAgIEluaXRpYWwgUmVsZWFzZQ0KICogMjAyMy0wMy0yMSAgIFNoYXNoYW5rIE1hbGFsaSAgICAgICAgIDEuMSAgICAgICAgICAgICAgICAgQ29kZSBjbGVhbnVwIGFuZCBsb3dlckNhbWVsQ2FzZSB1c2FnZQ0KICogMjAyMy0wNi0xMyAgIFNoYXNoYW5rIE1hbGFsaSAgICAgICAgIDEuMgkJCSAgICAgICAgICAgIENoYW5nZWQgLnNpemUgbWV0aG9kIHRvIHNpemUoKQ0KICogMjAyMy0wNi0yMCAgIFNoYXNoYW5rIE1hbGFsaSAgICAgICAgIDEuMyAgICAgICAgICAgICAgICAgQWRkZWQgdGhlIGxvZ2ljIG9mIHN1cHBsaWVyIGV4Y2VwdGlvbnMNCiAqDQogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCnB1YmxpYyBjbGFzcyBJU1BHZXRTdXBwbGllcnMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyDQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcg0KICBwcml2YXRlIFN0cmluZyBkaXZpc2lvbkxpc3QgPSAiIg0KICBwcml2YXRlIFN0cmluZyBzdGF0dXNMaXN0ID0gIiINCiAgcHJpdmF0ZSBTdHJpbmcgYWN0aXZlU3VwcGxpZXIgPSAiIg0KICBwcml2YXRlIFN0cmluZyBhY3RpdmVTdXBwbGllck5hbWUgPSAiIg0KICBwcml2YXRlIFN0cmluZyBDT05PID0gIiINCiAgcHJpdmF0ZSBTdHJpbmcgRlJTVSA9ICIiDQogIHByaXZhdGUgQXJyYXlMaXN0IDwgU3RyaW5nID4gYmFua0FjY291bnRTdGF0dXNMaXN0ID0gbnVsbA0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGV4Y2x1ZGVkQWNjb3VudHNMaXN0ID0gbnVsbA0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGFkZHJlc3NUeXBlc0xpc3QgPSBudWxsDQogIHByaXZhdGUgQXJyYXlMaXN0IDwgU3RyaW5nID4gYWRkcmVzc0lkc0xpc3QgPSBudWxsDQogIHByaXZhdGUgSGFzaHRhYmxlIHRlbXBUYWJsZUV4Y2VwdGlvbiA9IG51bGwNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBleGNlcHRpb25EaXZpID0gbnVsbA0KICBwcml2YXRlIEFycmF5TGlzdCA8IEhhc2h0YWJsZSA+IHN1cHBsaWVyTGlzdCA9IG51bGwNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBIYXNodGFibGUgPiBhZGRyZXNzTGlzdCA9IG51bGwNCiAgcHJpdmF0ZSBTdHJpbmcgU1RBVCA9ICIiLCBQSE5PID0gIiIsIENTQ0QgPSAiIiwgVlJOTyA9ICIiLCBTVUNNID0gIiIsIFZUQ0QgPSAiIiwgVEVQWSA9ICIiLCBQWU1FID0gIiIsIFBSU1UgPSAiIiwgVEVDRCA9ICIiLCBJQVBDID0gIiIsIEFMU1UgPSAiIiwgRU1BTCA9ICIiLCBkaXZpc2lvbkV4Y2VwdCA9ICIiDQogIHByaXZhdGUgU3RyaW5nIEFEUjEgPSAiIiwgQURSMiA9ICIiLCBBRFIzID0gIiIsIEFEUjQgPSAiIiwgVE9XTiA9ICIiLCBFQ0FSID0gIiIsIFBPTk8gPSAiIiwgQVNDRCA9ICIiLCBFREVTID0gIiIsIHN1bm9FeGNlcHQgPSAiIiwgdnRjZEV4Y2VwdCA9ICIiLCB0ZXB5RXhjZXB0ID0gIiIsIHB5bWVFeGNlcHQgPSAiIiwgdGVjZEV4Y2VwdCA9ICIiDQogIHByaXZhdGUgYm9vbGVhbiBlbmRPZkxpc3QgPSBmYWxzZQ0KICBpbnQgY291bnQgPSAwDQoNCiAgcHVibGljIElTUEdldFN1cHBsaWVycyhNSUFQSSBtaSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlciwgTG9nZ2VyQVBJIGxvZ2dlcikgew0KICAgIHRoaXMubWkgPSBtaQ0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0NCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXINCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcg0KICB9DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICB0ZW1wVGFibGVFeGNlcHRpb24gPSBuZXcgSGFzaHRhYmxlIDwgU3RyaW5nLCBTdHJpbmcgPiAoKQ0KICAgIGRpdmlzaW9uTGlzdCA9IG1pLmluRGF0YS5nZXQoJ0RJVkknKQ0KICAgIENPTk8gPSBwcm9ncmFtLkxEQVpELmdldCgnQ09OTycpDQogICAgRlJTVSA9IG1pLmluRGF0YS5nZXQoJ1NVTk8nKQ0KICAgIHBvcHVsYXRlQ29udHJvbFByb3BlcnRpZXMoKQ0KICAgIGdhdGhlckFsbFN1cHBsaWVycygpDQogICAgaWYgKHN1cHBsaWVyTGlzdC5zaXplKCkgPCAyMDApIHsNCiAgICAgIGVuZE9mTGlzdCA9IHRydWUNCiAgICB9DQogICAgaWYgKCFGUlNVLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgIHN1cHBsaWVyTGlzdC5yZW1vdmUoMCkNCiAgICB9DQogICAgaWYgKHN1cHBsaWVyTGlzdC5zaXplKCkgPiAyMDApIHsNCg0KICAgIH0NCg0KICAgIHN1cHBsaWVyTGlzdC5lYWNoIHsNCiAgICAgIHZhbHVlIC0+DQogICAgICAgIEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIgPSB2YWx1ZQ0KICAgICAgY2xlYXJTdXBwbGllckRldGFpbHNWYXJpYWJsZXMoKQ0KICAgICAgZ2V0U3VwcGxpZXJEZXRhaWxzKGVhY2hTdXBwbGllcikNCiAgICAgIGdldFN1cHBsaWVyTG9jYWxFeGNlcHRpb25zKGVhY2hTdXBwbGllcikNCiAgICAgIGdldFN1cHBsaWVyRW1haWwoZWFjaFN1cHBsaWVyKQ0KICAgICAgZ2V0U3VwcGxpZXJBZGRyZXNzKGVhY2hTdXBwbGllcikNCiAgICAgIHNldGFkZHJlc3MoKQ0KICAgICAgd3JpdGVTdXBwbGllclRvT3V0cHV0KGVhY2hTdXBwbGllcikNCiAgICAgIGdldEJhbmtEZXRhaWxzKGVhY2hTdXBwbGllcikNCg0KICAgIH0NCiAgICBpZiAoZW5kT2ZMaXN0KSB7DQogICAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdMJykNCiAgICAgIG1pLm91dERhdGEucHV0KCdTVU5PJywgJyUlRU9GJSUnKQ0KICAgICAgbWkud3JpdGUoKQ0KICAgIH0NCg0KICB9DQoNCiAgLyoqDQogICAqIEdldCBDb250cm9sIHByb3BlcmllcyBmcm9tIENVR0VYMQ0KICAgKiANCiAgICovDQoNCiAgcHVibGljIHBvcHVsYXRlQ29udHJvbFByb3BlcnRpZXMoKSB7DQogICAgYmFua0FjY291bnRTdGF0dXNMaXN0ID0gbmV3IEFycmF5TGlzdCA8IFN0cmluZyA+ICgpDQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlDQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpDQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyBiYW5rQWNjb3VudFN0YXR1c2VzID0gcmVzdWx0cy5nZXQoJ0ExMjEnKQ0KICAgICAgICBTdHJpbmdbXSBiYW5rQWNjb3VudFN0YXR1c0FycmF5ID0gYmFua0FjY291bnRTdGF0dXNlcy5zcGxpdCgnOycpDQogICAgICAgIGJhbmtBY2NvdW50U3RhdHVzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBiYW5rQWNjb3VudFN0YXR1cyA9IHZhbHVlDQogICAgICAgICAgYmFua0FjY291bnRTdGF0dXNMaXN0LmFkZChiYW5rQWNjb3VudFN0YXR1cy50cmltKCkpDQoNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBCQU5LQUNDT1VOVFNUQVRVUyIpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRTVVBQTElFUlMiLCAiUEswMiI6ICJCQU5LQUNDT1VOVFNUQVRVUyJdDQogICAgbWlDYWxsZXIuY2FsbCgiQ1VTRVhUTUkiLCAiR2V0RmllbGRWYWx1ZSIsIHBhcmFtcywgY2FsbGJhY2spDQoNCiAgICBleGNsdWRlZEFjY291bnRzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKQ0KICAgIGRlZiBjYWxsYmFjazIgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJykNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGV4Y2x1ZGVkQWNjb3VudHMgPSByZXN1bHRzLmdldCgnQTEyMScpDQogICAgICAgIFN0cmluZ1tdIGV4Y2x1ZGVkQWNjb3VudHNBcnJheSA9IGV4Y2x1ZGVkQWNjb3VudHMuc3BsaXQoJzsnKQ0KICAgICAgICBleGNsdWRlZEFjY291bnRzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBleGNsdWRlZEFjY291bnQgPSB2YWx1ZQ0KICAgICAgICAgIGV4Y2x1ZGVkQWNjb3VudHNMaXN0LmFkZChleGNsdWRlZEFjY291bnQpDQoNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBFWENMVURFREFDQ09VTlRTIikNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMyID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRTVVBQTElFUlMiLCAiUEswMiI6ICJFWENMVURFREFDQ09VTlRTIl0NCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMiwgY2FsbGJhY2syKQ0KDQogICAgYWRkcmVzc1R5cGVzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKQ0KICAgIGRlZiBjYWxsYmFjazMgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJykNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGFkZHJlc3NUeXBlcyA9IHJlc3VsdHMuZ2V0KCdBMTIxJykNCiAgICAgICAgU3RyaW5nW10gYWRkcmVzc1R5cGVzQXJyYXkgPSBhZGRyZXNzVHlwZXMuc3BsaXQoJzsnKQ0KICAgICAgICBhZGRyZXNzVHlwZXNBcnJheS5lYWNoIHsNCiAgICAgICAgICB2YWx1ZSAtPg0KICAgICAgICAgICAgU3RyaW5nIGFkZHJlc3NUeXBlID0gdmFsdWUNCiAgICAgICAgICBhZGRyZXNzVHlwZXNMaXN0LmFkZChhZGRyZXNzVHlwZSkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBBRERSRVNTVFlQRSIpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zMyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQUREUkVTU1RZUEUiXQ0KICAgIG1pQ2FsbGVyLmNhbGwoIkNVU0VYVE1JIiwgIkdldEZpZWxkVmFsdWUiLCBwYXJhbXMzLCBjYWxsYmFjazMpDQoNCiAgICBhZGRyZXNzSWRzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKQ0KICAgIGRlZiBjYWxsYmFjazQgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJykNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGFkZHJlc3NJZHMgPSByZXN1bHRzLmdldCgnQTEyMScpDQogICAgICAgIFN0cmluZ1tdIGFkZHJlc3NJZHNBcnJheSA9IGFkZHJlc3NJZHMuc3BsaXQoJzsnKQ0KICAgICAgICBhZGRyZXNzSWRzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBhZGRyZXNzSWQgPSB2YWx1ZQ0KICAgICAgICAgIGFkZHJlc3NJZHNMaXN0LmFkZChhZGRyZXNzSWQpDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgQUREUkVTU0lEIikNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXM0ID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRTVVBQTElFUlMiLCAiUEswMiI6ICJBRERSRVNTSUQiXQ0KICAgIG1pQ2FsbGVyLmNhbGwoIkNVU0VYVE1JIiwgIkdldEZpZWxkVmFsdWUiLCBwYXJhbXM0LCBjYWxsYmFjazQpDQogIH0NCg0KICAvKioNCiAgICogTGlzdCBhbGwgU3VwcGxpZXJzIHVzaW5nIENSUzYyME1JLkxzdFN1cHBsaWVycw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGdhdGhlckFsbFN1cHBsaWVycygpIHsNCiAgICBzdXBwbGllckxpc3QgPSBuZXcgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gKCkNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWUNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJykNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIFNVTk8gPSByZXN1bHRzLmdldCgnU1VOTycpDQogICAgICAgIFN0cmluZyBTVU5NID0gcmVzdWx0cy5nZXQoJ1NVTk0nKQ0KICAgICAgICBIYXNodGFibGUgdGVtcFRhYmxlID0gbmV3IEhhc2h0YWJsZSgpDQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ1NVTk8nLCBTVU5PLnRyaW0oKSkNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnU1VOTScsIFNVTk0udHJpbSgpKQ0KICAgICAgICBzdXBwbGllckxpc3QuYWRkKHRlbXBUYWJsZSkNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IENPTk8sICdGUlNVJzogRlJTVV0NCiAgICBtaUNhbGxlci5zZXRMaXN0TWF4UmVjb3JkcygyMDEpDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjIwTUkiLCAiTHN0U3VwcGxpZXJzIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgfQ0KDQogIC8qKiBDbGVhciB0aGUgdmVyaWFibGVzDQogICAqIA0KICAgKi8NCg0KICBwdWJsaWMgY2xlYXJTdXBwbGllckRldGFpbHNWYXJpYWJsZXMoKSB7DQogICAgU1RBVCA9ICIiDQogICAgUEhOTyA9ICIiDQogICAgQ1NDRCA9ICIiDQogICAgVlJOTyA9ICIiDQogICAgU1VDTSA9ICIiDQogICAgVlRDRCA9ICIiDQogICAgVEVQWSA9ICIiDQogICAgUFlNRSA9ICIiDQogICAgUFJTVSA9ICIiDQogICAgVEVDRCA9ICIiDQogICAgSUFQQyA9ICIiDQogICAgQUxTVSA9ICIiDQogICAgRU1BTCA9ICIiDQogICAgQURSMSA9ICIiDQogICAgQURSMiA9ICIiDQogICAgQURSMyA9ICIiDQogICAgQURSNCA9ICIiDQogICAgVE9XTiA9ICIiDQogICAgRUNBUiA9ICIiDQogICAgUE9OTyA9ICIiDQogICAgQVNDRCA9ICIiDQogICAgRURFUyA9ICIiDQogICAgZGl2aXNpb25FeGNlcHQgPSAiIg0KICAgIHN1bm9FeGNlcHQgPSAiIg0KICAgIHZ0Y2RFeGNlcHQgPSAiIg0KICAgIHRlcHlFeGNlcHQgPSAiIg0KICAgIHB5bWVFeGNlcHQgPSAiIg0KICAgIHRlY2RFeGNlcHQgPSAiIg0KICB9DQoNCiAgLyoqDQogICAqIEdldCBCYXNpYyBkZXRhaWxzIGZvciBlYWNoIHN1cHBsaWVyDQogICAqIA0KICAgKi8NCiAgcHVibGljIGdldFN1cHBsaWVyRGV0YWlscyhIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJykNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZQ0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKQ0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTVEFUID0gcmVzdWx0cy5nZXQoJ1NUQVQnKQ0KICAgICAgICBQSE5PID0gcmVzdWx0cy5nZXQoJ1BITk8nKQ0KICAgICAgICBDU0NEID0gcmVzdWx0cy5nZXQoJ0NTQ0QnKQ0KICAgICAgICBWUk5PID0gcmVzdWx0cy5nZXQoJ1ZSTk8nKQ0KICAgICAgICBTVUNNID0gcmVzdWx0cy5nZXQoJ1NVQ00nKQ0KICAgICAgICBWVENEID0gcmVzdWx0cy5nZXQoJ1ZUQ0QnKQ0KICAgICAgICBURVBZID0gcmVzdWx0cy5nZXQoJ1RFUFknKQ0KICAgICAgICBQWU1FID0gcmVzdWx0cy5nZXQoJ1BZTUUnKQ0KICAgICAgICBQUlNVID0gcmVzdWx0cy5nZXQoJ1BSU1UnKSAhPSBudWxsICYmICFyZXN1bHRzLmdldCgnUFJTVScpLnRyaW0oKS5pc0JsYW5rKCkgPyByZXN1bHRzLmdldCgnUFJTVScpIDogU1VOTw0KICAgICAgICBURUNEID0gcmVzdWx0cy5nZXQoJ1RFQ0QnKQ0KICAgICAgICBJQVBDID0gcmVzdWx0cy5nZXQoJ0lBUEMnKQ0KICAgICAgICBBTFNVID0gcmVzdWx0cy5nZXQoJ0FMU1UnKQ0KDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBDT05PLCAiU1VOTyI6IFNVTk9dDQoNCiAgICBtaUNhbGxlci5jYWxsKCJDUlM2MjBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICB9DQoNCiAgLyoqDQogICAqIEdldCBsb2NhbCBleGNlcHRpb25zIGZvciBlYWNoIHN1cHBsaWVyDQogICAqIA0KICAgKi8NCiAgcHVibGljIGdldFN1cHBsaWVyTG9jYWxFeGNlcHRpb25zKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCiAgICBleGNlcHRpb25EaXZpID0gbmV3IEFycmF5TGlzdCA8IFN0cmluZyA+ICgpDQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJykNCiAgICBTdHJpbmcgU1VOTSA9IGVhY2hTdXBwbGllci5nZXQoJ1NVTk0nKQ0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZQ0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKQ0KICAgICAgaWYgKHJlY29yZEV4aXN0cyAmJiBjb3VudCA9PSAwKSB7DQogICAgICAgIHRlbXBUYWJsZUV4Y2VwdGlvbi5wdXQocmVzdWx0cy5nZXQoJ1NVTk8nKS50b1N0cmluZygpLnRyaW0oKSArIHJlc3VsdHMuZ2V0KCdESVZJJyksIHJlc3VsdHMuZ2V0KCdWVENEJykgKyAiIyIgKyByZXN1bHRzLmdldCgnVEVQWScpICsgIiMiICsgcmVzdWx0cy5nZXQoJ1BZTUUnKSArICIjIiArIHJlc3VsdHMuZ2V0KCdURUNEJykpDQoNCiAgICAgICAgaWYgKCFleGNlcHRpb25EaXZpLmNvbnRhaW5zKHJlc3VsdHMuZ2V0KCdESVZJJykpKSB7DQogICAgICAgICAgZXhjZXB0aW9uRGl2aS5hZGQocmVzdWx0cy5nZXQoJ0RJVkknKSkNCiAgICAgICAgfQ0KDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIlNVTk8iOiBTVU5PLCAiRElWSSI6ICIiXQ0KDQogICAgbWlDYWxsZXIuY2FsbCgiTUZTNjIwTUkiLCAiTHN0U3VwcExvY2FsRXhjIiwgcGFyYW1zLCBjYWxsYmFjaykNCg0KICB9DQoNCiAgLyoqDQogICAqIEdldCBlbWFpbCBhZGRyZXNzIGZvciBlYWNoIHN1cHBsaWVyDQogICAqIA0KICAgKi8NCg0KICBwdWJsaWMgZ2V0U3VwcGxpZXJFbWFpbChIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJykNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZQ0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKQ0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBFTUFMID0gcmVzdWx0cy5nZXQoJ0VNQUwnKQ0KDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIkVNVFAiOiAiMDIiLCAiRU1LWSI6IFNVTk9dDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTMTExTUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgfQ0KDQogIC8qKg0KICAgKiBEZXBlbmQgdXBvbiBjb250cm9sIHByb3BlcnR5ICwgZ2V0IHN1cHBsaWVyIGFkZHJlc3MgZGV0YWlscw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGdldFN1cHBsaWVyQWRkcmVzcyhIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJykNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZQ0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKQ0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KDQogICAgICAgIFN0cmluZyBBRFRFID0gIiINCiAgICAgICAgU3RyaW5nIEFESUQgPSAiIg0KICAgICAgICBBRFRFID0gcmVzdWx0cy5nZXQoJ0FEVEUnKQ0KICAgICAgICBBRElEID0gcmVzdWx0cy5nZXQoJ0FESUQnKQ0KICAgICAgICBBRFIxID0gcmVzdWx0cy5nZXQoJ0FEUjEnKQ0KICAgICAgICBBRFIyID0gcmVzdWx0cy5nZXQoJ0FEUjInKQ0KICAgICAgICBBRFIzID0gcmVzdWx0cy5nZXQoJ0FEUjMnKQ0KICAgICAgICBBRFI0ID0gcmVzdWx0cy5nZXQoJ0FEUjQnKQ0KICAgICAgICBUT1dOID0gcmVzdWx0cy5nZXQoJ1RPV04nKQ0KICAgICAgICBFQ0FSID0gcmVzdWx0cy5nZXQoJ0VDQVInKQ0KICAgICAgICBQT05PID0gcmVzdWx0cy5nZXQoJ1BPTk8nKQ0KICAgICAgICBBU0NEID0gcmVzdWx0cy5nZXQoJ0NTQ0QnKQ0KICAgICAgICBFREVTID0gcmVzdWx0cy5nZXQoJ0VERVMnKQ0KDQogICAgICAgIEhhc2h0YWJsZSB0ZW1wVGFibGUgPSBuZXcgSGFzaHRhYmxlKCkNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURURScsIEFEVEUpDQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FESUQnLCBBRElEKQ0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRFIxJywgQURSMSkNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURSMicsIEFEUjIpDQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FEUjMnLCBBRFIzKQ0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRFI0JywgQURSNCkNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnVE9XTicsIFRPV04pDQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0VDQVInLCBFQ0FSKQ0KICAgICAgICB0ZW1wVGFibGUucHV0KCdQT05PJywgUE9OTykNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQ1NDRCcsIENTQ0QpDQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0VERVMnLCBFREVTKQ0KICAgICAgICBhZGRyZXNzTGlzdC5hZGQodGVtcFRhYmxlKQ0KDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIlNVTk8iOiBTVU5PXQ0KICAgIG1pQ2FsbGVyLnNldExpc3RNYXhSZWNvcmRzKDUwKQ0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYyME1JIiwgIkxzdEFkZHJlc3NlcyIsIHBhcmFtcywgY2FsbGJhY2spDQogIH0NCg0KICAvKiogc2V0IHRoZSBhZGRyZXNzIGxvb3ANCiAgICogDQogICAqLw0KDQogIHB1YmxpYyBzZXRhZGRyZXNzKCkgew0KICAgIGFkZHJlc3NMaXN0LmVhY2ggew0KICAgICAgdmFsdWUgLT4NCiAgICAgICAgSGFzaHRhYmxlIGVhY2hhZGRyZXNzTGlzdCA9IHZhbHVlDQogICAgICBzZXRBZGRyZXNzRGV0YWlscyhlYWNoYWRkcmVzc0xpc3QpDQogICAgfQ0KICB9DQoNCiAgLyoqIHNldCB0aGUgYWRkcmVzcyBkZXRhaWxzIGluIG91dHB1dCB2ZXJpYWJsZXMNCiAgICogDQogICAqLw0KDQogIHB1YmxpYyBzZXRBZGRyZXNzRGV0YWlscyhIYXNodGFibGUgZWFjaGFkZHJlc3NMaXN0KSB7DQoNCiAgICBTdHJpbmcgdGVtcEFEVEUgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFRFJykNCiAgICBTdHJpbmcgdGVtcEFESUQgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRElEJykNCiAgICBTdHJpbmcgdGVtcEFEUjEgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFIxJykNCiAgICBTdHJpbmcgdGVtcEFEUjIgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFIyJykNCiAgICBTdHJpbmcgdGVtcEFEUjMgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFIzJykNCiAgICBTdHJpbmcgdGVtcEFEUjQgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFI0JykNCiAgICBTdHJpbmcgdGVtcFRPV04gPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdUT1dOJykNCiAgICBTdHJpbmcgdGVtcEVDQVIgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdFQ0FSJykNCiAgICBTdHJpbmcgdGVtcFBPTk8gPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdQT05PJykNCiAgICBTdHJpbmcgdGVtcENTQ0QgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdDU0NEJykNCiAgICBTdHJpbmcgdGVtcEVERVMgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdFREVTJykNCg0KICAgIGlmIChhZGRyZXNzVHlwZXNMaXN0LmNvbnRhaW5zKHRlbXBBRFRFLnRyaW0oKSkgJiYgYWRkcmVzc0lkc0xpc3QuY29udGFpbnModGVtcEFESUQudHJpbSgpKSkgew0KICAgICAgQURSMSA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjEnKQ0KICAgICAgQURSMiA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjInKQ0KICAgICAgQURSMyA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjMnKQ0KICAgICAgQURSNCA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjQnKQ0KICAgICAgVE9XTiA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ1RPV04nKQ0KICAgICAgRUNBUiA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0VDQVInKQ0KICAgICAgUE9OTyA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ1BPTk8nKQ0KICAgICAgQ1NDRCA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0NTQ0QnKQ0KICAgICAgRURFUyA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0VERVMnKQ0KICAgIH0NCg0KICB9DQoNCiAgLyoqDQogICAqIFdyaXRlIHN1cHBsaWVyIGRldGFpbHMgdG8gb3V0cHV0IG9mIHRoZSBhcGkNCiAgICogDQogICAqLw0KDQogIHB1YmxpYyB3cml0ZVN1cHBsaWVyVG9PdXRwdXQoSGFzaHRhYmxlIGVhY2hTdXBwbGllcikgew0KDQogICAgYm9vbGVhbiBpc0luRm9yTG9vcCA9IGZhbHNlDQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJykNCiAgICBTdHJpbmcgU1VOTSA9IGVhY2hTdXBwbGllci5nZXQoJ1NVTk0nKQ0KICAgIGludCBpID0gMA0KDQogICAgZm9yIChpID0gMDsgaSA8IGV4Y2VwdGlvbkRpdmkuc2l6ZSgpOyBpKyspIHsNCg0KICAgICAgU3RyaW5nIERJVkkgPSBleGNlcHRpb25EaXZpLmdldChpKQ0KICAgICAgU3RyaW5nIGRpdmlzaW9uID0gRElWSS50cmltKCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdSQ1RQJywgJ0gnKQ0KDQogICAgICBpZiAodGVtcFRhYmxlRXhjZXB0aW9uLmNvbnRhaW5zS2V5KFNVTk8udHJpbSgpICsgZGl2aXNpb24pKSB7DQogICAgICAgIGlzSW5Gb3JMb29wID0gdHJ1ZQ0KDQogICAgICAgIFN0cmluZyBvdXRwdXQgPSB0ZW1wVGFibGVFeGNlcHRpb24uZ2V0KFNVTk8udHJpbSgpICsgZGl2aXNpb24pDQogICAgICAgIFN0cmluZ1tdIG91dHB1dDEgPSBvdXRwdXQuc3BsaXQoIiMiKQ0KICAgICAgICBzdW5vRXhjZXB0ID0gU1VOTy50cmltKCkNCiAgICAgICAgZGl2aXNpb25FeGNlcHQgPSBkaXZpc2lvbi50cmltKCkNCiAgICAgICAgdnRjZEV4Y2VwdCA9IG91dHB1dDFbMF0NCiAgICAgICAgdGVweUV4Y2VwdCA9IG91dHB1dDFbMV0NCiAgICAgICAgcHltZUV4Y2VwdCA9IG91dHB1dDFbMl0NCiAgICAgICAgdGVjZEV4Y2VwdCA9IG91dHB1dDFbM10NCg0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnRElWSScsIGRpdmlzaW9uRXhjZXB0KQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnU1VOTycsIHN1bm9FeGNlcHQpDQogICAgICAgIGlmICh2dGNkRXhjZXB0LnRyaW0oKS5sZW5ndGgoKSA9PSAxKSB7DQoNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnVlRDRCcsICIwIiArIHZ0Y2RFeGNlcHQudG9TdHJpbmcoKSkNCiAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdWVENEJywgdnRjZEV4Y2VwdCkNCiAgICAgICAgfQ0KDQogICAgICAgIG1pLm91dERhdGEucHV0KCdURVBZJywgdGVweUV4Y2VwdCkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1BZTUUnLCBweW1lRXhjZXB0KQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnVEVDRCcsIHRlY2RFeGNlcHQpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdTVU5NJywgU1VOTSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1BITk8nLCBQSE5PKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnQ1NDRCcsIENTQ0QpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdTVEFUJywgU1RBVCkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1ZSTk8nLCBWUk5PKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnRU1BTCcsIEVNQUwpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdQUlNVJywgUFJTVSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1NVQ00nLCBTVUNNKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnQURSMScsIEFEUjEpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdBRFIyJywgQURSMikNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0FEUjMnLCBBRFIzKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnQURSNCcsIEFEUjQpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdBU0NEJywgQVNDRCkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1BPTk8nLCBQT05PKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnRURFUycsIEVERVMpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdUT1dOJywgVE9XTikNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0VDQVInLCBFQ0FSKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnSUFQQycsIElBUEMpDQogICAgICAgIG1pLm91dERhdGEucHV0KCdBTFNVJywgQUxTVSkNCiAgICAgICAgbWkud3JpdGUoKQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlmICghaXNJbkZvckxvb3AgfHwgKGkgPT0gZXhjZXB0aW9uRGl2aS5zaXplKCkpKSB7DQogICAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdIJykNCiAgICAgIG1pLm91dERhdGEucHV0KCdESVZJJywgIiIpDQogICAgICBtaS5vdXREYXRhLnB1dCgnU1VOTycsIFNVTk8pDQogICAgICBpZiAoVlRDRC50cmltKCkubGVuZ3RoKCkgPT0gMSkgew0KDQogICAgICAgIG1pLm91dERhdGEucHV0KCdWVENEJywgIjAiICsgVlRDRC50b1N0cmluZygpKQ0KICAgICAgfSBlbHNlIHsNCg0KICAgICAgICBtaS5vdXREYXRhLnB1dCgnVlRDRCcsIFZUQ0QpDQogICAgICB9DQoNCiAgICAgIG1pLm91dERhdGEucHV0KCdURVBZJywgVEVQWSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdQWU1FJywgUFlNRSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdURUNEJywgVEVDRCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdTVU5NJywgU1VOTSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdQSE5PJywgUEhOTykNCiAgICAgIG1pLm91dERhdGEucHV0KCdDU0NEJywgQ1NDRCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdTVEFUJywgU1RBVCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdWUk5PJywgVlJOTykNCiAgICAgIG1pLm91dERhdGEucHV0KCdFTUFMJywgRU1BTCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdQUlNVJywgUFJTVSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdTVUNNJywgU1VDTSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdBRFIxJywgQURSMSkNCiAgICAgIG1pLm91dERhdGEucHV0KCdBRFIyJywgQURSMikNCiAgICAgIG1pLm91dERhdGEucHV0KCdBRFIzJywgQURSMykNCiAgICAgIG1pLm91dERhdGEucHV0KCdBRFI0JywgQURSNCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdBU0NEJywgQVNDRCkNCiAgICAgIG1pLm91dERhdGEucHV0KCdQT05PJywgUE9OTykNCiAgICAgIG1pLm91dERhdGEucHV0KCdFREVTJywgRURFUykNCiAgICAgIG1pLm91dERhdGEucHV0KCdUT1dOJywgVE9XTikNCiAgICAgIG1pLm91dERhdGEucHV0KCdFQ0FSJywgRUNBUikNCiAgICAgIG1pLm91dERhdGEucHV0KCdJQVBDJywgSUFQQykNCiAgICAgIG1pLm91dERhdGEucHV0KCdBTFNVJywgQUxTVSkNCiAgICAgIG1pLndyaXRlKCkNCiAgICB9DQoNCiAgfQ0KDQogIC8qKg0KICAgKiBEZXBlbmQgdXBvbiBjb250cm9sIHByb3BlcnR5ICwgZ2V0IHN1cHBsaWVyIGJhbmsgZGV0YWlscw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGdldEJhbmtEZXRhaWxzKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCg0KICAgIFN0cmluZyBTVU5PID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTycpDQogICAgU3RyaW5nIFNVTk0gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5NJykNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZQ0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKQ0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgU1RBVCA9IHJlc3VsdHMuZ2V0KCdTVEFUJykNCiAgICAgICAgU3RyaW5nIERJVkkgPSByZXN1bHRzLmdldCgnRElWSScpDQogICAgICAgIFN0cmluZyBCS0lEID0gcmVzdWx0cy5nZXQoJ0JLSUQnKQ0KICAgICAgICBTdHJpbmcgQUNITyA9IHJlc3VsdHMuZ2V0KCdBQ0hPJykNCiAgICAgICAgU3RyaW5nIENCUFkgPSByZXN1bHRzLmdldCgnQ0JQWScpDQogICAgICAgIFN0cmluZyBGSUFOID0gcmVzdWx0cy5nZXQoJ0ZJQU4nKQ0KICAgICAgICBTdHJpbmcgSUJBTiA9IHJlc3VsdHMuZ2V0KCdJQkFOJykNCiAgICAgICAgU3RyaW5nIEJBRjEgPSByZXN1bHRzLmdldCgnQkFGMScpDQogICAgICAgIGJvb2xlYW4gdGVzdCA9IGJhbmtBY2NvdW50U3RhdHVzTGlzdC5jb250YWlucyhTVEFULnRyaW0oKSkNCg0KICAgICAgICBpZiAoYmFua0FjY291bnRTdGF0dXNMaXN0LmNvbnRhaW5zKFNUQVQpICYmICFleGNsdWRlZEFjY291bnRzTGlzdC5jb250YWlucyhCS0lELnRyaW0oKSkgJiYgKGRpdmlzaW9uTGlzdC5pc0VtcHR5KCkgfHwgZGl2aXNpb25MaXN0LnRyaW0oKS5lcXVhbHMoIjEiKSB8fCBkaXZpc2lvbkxpc3QuY29udGFpbnMoRElWSS50cmltKCkpKSkgew0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdSQ1RQJywgIkIiKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdESVZJJywgIiIpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1NVTk8nLCBTVU5PKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdTVU5NJywgU1VOTSkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnQktJRCcsIEJLSUQpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0JESVYnLCBESVZJKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdCS1NUJywgU1RBVCkNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnQ0JQWScsIENCUFkpDQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0ZJQU4nLCBGSUFOKQ0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdJQkFOJywgSUJBTikNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnQkFGMScsIEJBRjEpDQogICAgICAgICAgbWkud3JpdGUoKQ0KICAgICAgICB9DQoNCiAgICAgIH0NCiAgICB9DQoNCiAgICBkZWYgcGFyYW1zID0gWyJCS1RQIjogIjAzIiwgIkFDSE8iOiBTVU5PXQ0KDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjkyTUkiLCAiTHN0QnlBY2NIb2xkZXIiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KDQogIH0NCg0KfQ=="}}}